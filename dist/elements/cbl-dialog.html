<html><head><link rel="import" href="../../bower_components/neon-animation/neon-animation-runner-behavior.html">
<link rel="import" href="../../bower_components/paper-dialog-behavior/paper-dialog-behavior.html">
<link rel="import" href="../../bower_components/paper-dialog-behavior/paper-dialog-shared-styles.html">
<link rel="import" href="../../bower_components/neon-animation/animations/fade-in-animation.html">
<link rel="import" href="../../bower_components/neon-animation/animations/fade-out-animation.html">
<link rel="import" href="../../bower_components/neon-animation/animations/transform-animation.html">
<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-progress/paper-progress.html">

<link rel="import" href="cbl-shared-styles.html">

</head><body><dom-module id="cbl-dialog">
  <template>
    <style include="cbl-shared-styles">
      :host {
        display: block;
        min-width: 400px;
        border-radius: 5px;
        margin: 16px;
        background-color: var(--primary-background-color);
        color: var(--primary-text-color);
        @apply(--shadow-elevation-16dp);
      }

      :host > * {
        padding: 0 16px;
      }

      paper-progress {
        position: absolute;
        padding: 0;
        width: 100%;
        z-index: 100;
      }

      .toolbar {
        height: 64px;
        @apply(--layout-flex);
        @apply(--layout-horizontal);
        @apply(--layout-center);
      }

      .toolbar h2 {
        @apply(--layout-flex);
        font-size: 20px;
        font-weight: 400;
        overflow-x: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        line-height: 150%;
      }

      .content {
        max-height: calc(100vh - 160px);
        overflow: auto;
      }

      .footer {
        height: 64px;
        @apply(--layout-flex);
        @apply(--layout-horizontal);
        @apply(--layout-end-justified);
        @apply(--layout-center);
      }

      @media screen and (max-width: 420px) {
        :host {
          min-width: auto;
          border-radius: 0;
          position: absolute;
          overflow: hidden;
          width: 100%;
          height: 100%;
          margin: 0;
        }

        .toolbar {
          height: 56px;
          padding: 0 8px;
        }

        .toolbar h2 {
          margin-left: 16px;
        }

        .content {
          max-height: calc(100vh - 56px);
        }
      }
    </style>

    <iron-media-query query="max-width: 420px" query-matches="{{mobile}}"></iron-media-query>

    <div class="toolbar">
      <paper-icon-button on-tap="back" icon="close" hidden="[[!mobile]]"></paper-icon-button>
      <h2>[[heading]]</h2>
      <paper-button on-tap="confirm" class="bordered" hidden="[[!mobile]]">[[confirmLabel]]</paper-button>
    </div>

    <paper-progress indeterminate="" hidden="[[!loading]]"></paper-progress>

    <div class="content">
      <content></content>
    </div>

    <template is="dom-if" if="[[!mobile]]">
      <div class="footer">
        <paper-button class="bordered" on-tap="back">[[dismissLabel]]</paper-button>
        <paper-button on-tap="confirm">[[confirmLabel]]</paper-button>
      </div>
    </template>

  </template>
</dom-module>

<script src="cbl-dialog.js"></script></body></html>